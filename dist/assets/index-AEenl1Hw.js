var S=Object.defineProperty;var B=(r,e,t)=>e in r?S(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var s=(r,e,t)=>(B(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();class m{constructor(...e){s(this,"components",[]);this.components=m.convert(...e)}get length(){return Math.hypot(...this.components)}get x(){return this.components[0]}get y(){return this.components[1]}set x(e){this.components[0]=e}set y(e){this.components[1]=e}static convert(...e){return typeof e[0]=="number"?e:[e[0].x,e[0].y]}add(...e){const t=m.convert(...e);return this.update((i,a)=>i+t[a])}sub(...e){const t=m.convert(...e);return this.update((i,a)=>i-t[a])}distance(...e){const t=m.convert(...e);return this.map((i,a)=>i-t[a]).length}multi(e){return this.update(t=>e*t)}normalize(){return this.multi(1/this.length)}normalMult(e){return this.normalize().multi(e)}moveTowards(e){return this.sub(e).normalize()}equals(...e){return this.every(m.convert(...e),(t,i)=>t==i)}isLess(...e){return this.every(m.convert(...e),(t,i)=>t<i)}isGreater(...e){return this.every(m.convert(...e),(t,i)=>t<i)}isLte(...e){return this.every(m.convert(...e),(t,i)=>t<=i)}isGte(...e){return this.every(m.convert(...e),(t,i)=>t<=i)}isBetween(e,t){return this.isLess(t)&&this.isGreater(e)}isBetweenEqual(e,t){return this.isLte(t)&&this.isGte(e)}set(...e){const t=m.convert(...e);return this.update((i,a)=>t[a])}zero(){return this.set(0)}clone(){return new m(...this.components)}copy(e){return this.components=[...e.components],this}map(e){return new m(...this.components.map(e))}update(e){return this.components=this.components.map(e),this}every(e,t){return this.components.every((i,a)=>t(i,e[a]))}test(e,...t){const i=m.convert(...t);return this.components.every((a,n)=>e(a,i[n]))}toString(){return`(${this.components.map(e=>e.toFixed(0)).join()})`}}class F{constructor({ctx:e,image:t,position:i={x:100,y:100},scale:a=1,width:n,height:h,numFrames:l=1,spriteOffset:d={x:0,y:0},delay:c=2}){s(this,"ctx");s(this,"position");s(this,"scale");s(this,"width");s(this,"height");s(this,"numFrames");s(this,"spriteOffset");s(this,"delay");s(this,"image");s(this,"framesElapsed",0);s(this,"framesCount",0);s(this,"centerOffset");s(this,"scaledWidth");s(this,"scaledHeight");s(this,"center");this.ctx=e,this.position=new m(i.x,i.y),this.image=t,this.width=n??this.image.width,this.height=h??this.image.height,this.scale=a,this.scaledWidth=this.width*a,this.scaledHeight=this.height*a,this.centerOffset=new m(this.scaledWidth/2,this.scaledHeight/2),this.center=new m(i).add(this.centerOffset),this.spriteOffset=d,this.numFrames=l,this.delay=c}draw(){this.center.set(this.position).add(this.centerOffset),this.ctx.drawImage(this.image,this.spriteOffset.x+this.framesCount*this.width,this.spriteOffset.y,this.width,this.height,this.position.x,this.position.y,this.scaledWidth,this.scaledHeight)}animate(){this.framesElapsed++,this.framesElapsed%this.delay==0&&(this.framesCount<this.numFrames-1?this.framesCount++:this.framesCount=0)}update(){this.draw(),this.animate()}}var y=(r=>(r.dead="dead",r.alive="alive",r.done="done",r))(y||{});const p=class p extends F{constructor({name:t,path:i,speed:a=2,health:n=5,radius:h=10,...l}){l.position||(l.position=i[0]);super({...l});s(this,"speed");s(this,"health");s(this,"maxHealth");s(this,"velocity");s(this,"movementTicks");s(this,"name");s(this,"path");s(this,"index");s(this,"nextWaypoint");s(this,"radius");s(this,"state");this.speed=a,this.health=n,this.maxHealth=n,this.name=t,this.radius=l.width??30,this.path=i,this.index=0,this.setState("alive"),this.setNextWaypoint(),this.velocity=new m(0,0),this.movementTicks=0}get isAlive(){return this.state=="alive"}damage(t){if(this.health-=t,this.health<=0)return this.setState("dead")}setState(t){this.state=t,this.onStateChange()}onStateChange(){switch(p.trigger(this.state,this),this.state){}}moveTowards(){if(this.movementTicks--,this.movementTicks<=0)return this.triggerEndMove();this.position.sub(this.velocity)}setNextWaypoint(){return this.index>=this.path.length?this.setState("done"):this.nextWaypoint=this.path[this.index++]}triggerEndMove(){this.onMoveEnd(),this.velocity.zero(),this.onMoveStart()}onMoveEnd(){this.setNextWaypoint()}onMoveStart(){this.velocity=this.velocity.copy(this.center);const t=this.velocity.sub(this.nextWaypoint.x,this.nextWaypoint.y).length;this.movementTicks=t/this.speed,this.velocity.normalize().multi(this.speed)}draw(){super.draw(),this.ctx.fillStyle="black",this.ctx.beginPath(),this.ctx.arc(this.center.x,this.center.y,this.radius,0,Math.PI*2),this.ctx.stroke(),this.ctx.fillStyle="red",this.ctx.fillRect(this.position.x,this.position.y-this.centerOffset.y,this.scaledWidth,5),this.ctx.fillStyle="green",this.ctx.fillRect(this.position.x,this.position.y-this.centerOffset.y,this.scaledWidth*this.health/this.maxHealth,5)}update(){this.state=="alive"&&(super.update(),this.moveTowards())}toString(){let t=`Waypoint:[${this.index} (${this.nextWaypoint.x}, ${this.nextWaypoint.y})]`,i=`Health:[${this.health}/${this.maxHealth}]`,a=`Position:${this.velocity}${this.position}`;return`${this.name} ${i} ${this.state}
 ${t}
 ${a}`}static trigger(t,i){p.listener[t].forEach(a=>a(i))}static addEventListener(t,i){p.listener[t].push(i)}static removeEventListener(t,i){p.listener[t]=p.listener[t].filter(a=>a!==i)}};s(p,"listener",{dead:[],done:[],alive:[]});let x=p;const o=class o{constructor({position:e,isBuildable:t,id:i}){s(this,"position");s(this,"worldPos");s(this,"isBuildable");s(this,"id");this.position=new m(e),this.worldPos={x:e.x*o.width,y:e.y*o.height},this.isBuildable=t,this.id=i}draw(e=o.color){this.isBuildable&&(_.ctx.fillStyle=e,_.ctx.fillRect(this.worldPos.x,this.worldPos.y,o.width,o.height))}update(e){e&&this.draw(e.includes(this.id)?o.hoverColor:o.color)}static genId(e,t){return`${e}.${t}`}};s(o,"width",16),s(o,"height",16),s(o,"color","rgba(0, 0, 255, 0.4)"),s(o,"hoverColor","rgba(0, 0, 255, 0.7)");let u=o;class O{constructor({ctx:e,mapData:t,width:i,height:a}){s(this,"path");s(this,"tiles");s(this,"buildable");s(this,"ctx");s(this,"width");s(this,"height");s(this,"mouse");s(this,"buildPos");s(this,"buildTiles",[]);s(this,"enabled",!0);s(this,"building");this.ctx=e,this.path=t.path;let n=O.parseMap(t);this.tiles=n.tiles,this.buildable=n.buildable;let h=new Image;h.src=t.src,this.width=i,this.height=a,h.onload=()=>{e.drawImage(h,0,0),this.width=i??h.width,this.height=a??h.height},this.mouse=new m(-1,-1),window.addEventListener("mousemove",l=>{const d=this.ctx.canvas.getBoundingClientRect();let c=(l.clientX-d.left)*(this.width/d.width),g=(l.clientY-d.top)*(this.height/d.height);this.setMouse(c,g)})}setBuildingSelected(e){this.building=e,this.enabled=this.building!=null}setMouse(e,t){this.mouse.set(Math.floor(e/u.width),Math.floor(t/u.height))}updateBuilt(){this.buildTiles.forEach(e=>e.isBuildable=!1)}getTile(e){if(this.tiles[e.y]!==void 0)return this.tiles[e.y][e.x]}isBuildable(e){return this.canBuild(e)}isBuildableTile(e){var t;return((t=this.getTile(e))==null?void 0:t.isBuildable)??!1}canBuild(e=(t=>(t=this.building)==null?void 0:t.size)()){if(e==null)return!1;const i=h=>Math.ceil((h-1)/2);this.buildPos=void 0;const a={x:this.mouse.x-i(e.width),y:this.mouse.y-i(e.height)},n={x:a.x+e.width,y:a.y+e.height};this.buildTiles=[];for(let h=a.x;h<n.x;h++)for(let l=a.y;l<n.y;l++)if(this.isBuildableTile({x:h,y:l})){let d=this.getTile({x:h,y:l});d!=null&&this.buildTiles.push(d)}else return!1;return this.buildPos=O.gridToWorldPos(a),!0}update(){if(!this.enabled||!this.canBuild())return;let e=this.buildTiles.map(t=>t.id);this.buildable.forEach(t=>t.update(e))}static gridToWorldPos(e){return{x:e.x*u.width,y:e.y*u.height}}static genTile(e,t,i){let a=e==0;return new u({id:u.genId(t,i),position:{x:t,y:i},isBuildable:a})}static parseMap(e){let t=[];const i=(n,h,l)=>{let d=O.genTile(n,h,l);return d.isBuildable&&t.push(d),d};let a=[];for(let n=0;n<e.height;n++){let h=n*e.width;a.push(e.placement.slice(h,h+e.width).map((l,d)=>i(l,d,n)))}return{buildable:t,tiles:a}}}class E{constructor({position:e,target:t,speed:i=5,radius:a=5,damage:n=1}){s(this,"position");s(this,"velocity");s(this,"target");s(this,"speed");s(this,"damage");s(this,"distance",99);s(this,"radius");s(this,"enabled");this.position=new m(e),this.velocity=new m(0,0),this.target=t,this.speed=i,this.radius=a,this.damage=n,this.enabled=!0}checkHit(){this.distance<=this.target.radius&&(this.target.damage(this.damage),this.enabled=!1)}draw(){_.ctx.beginPath(),_.ctx.arc(this.position.x,this.position.y,this.radius,0,Math.PI*2),_.ctx.fillStyle="orange",_.ctx.fill()}update(){if(this.enabled){if(this.target==null)return this.enabled=!1;this.draw(),this.distance=this.velocity.set(this.position).sub(this.target.position).length,this.velocity.normalize().multi(this.speed),this.position.sub(this.velocity),this.checkHit()}}}let D=class extends F{constructor({manager:t,radius:i=150,fireRate:a=30,damage:n=1,...h}){super(h);s(this,"projectile",[]);s(this,"manager");s(this,"radius");s(this,"target");s(this,"fireRate");s(this,"fireCD",0);s(this,"damage");this.radius=i,this.fireRate=a,this.manager=t,this.damage=n}getEnemy(){this.target=this.manager.enemyList.find(t=>t.state==y.alive&&this.center.distance(t.position)<this.radius+t.radius)}shoot(t){this.fireCD=this.fireRate,this.projectile.push(new E({position:this.center,target:t,damage:this.damage}))}draw(){super.draw()}update(){super.update(),this.fireCD--,this.target&&this.center.distance(this.target.position)>this.radius+this.target.radius&&(this.target=void 0),this.target||this.getEnemy(),this.target&&this.fireCD<=0&&this.shoot(this.target);for(let t=this.projectile.length-1;t>=0;t--){const i=this.projectile[t];i.update(),i.enabled||this.projectile.splice(t,1),i.target.isAlive||(this.target=void 0)}}toString(){var i;let t=`${this.damage}[${this.fireRate} ${this.fireCD} ]`;return`${this.position} ${this.projectile.length} ${t} Target:${((i=this.target)==null?void 0:i.name)??"-"}`}};class L{constructor({health:e=10,gold:t=10}){s(this,"health");s(this,"maxHealth");s(this,"gold");s(this,"state");this.health=e,this.maxHealth=e,this.gold=t,this.state="alive"}get isAlive(){return this.state=="alive"}setState(e){this.state=e}damage(e){if(this.health-=e,this.health<=0)return this.setState("dead")}toString(){return`${this.health} / ${this.maxHealth} ${this.state} ${this.gold}`}}class $ extends F{constructor({sprites:t,...i}){super(i);s(this,"sprites",[]);s(this,"name");this.sprites=t,this.changeSprite(this.sprites[0])}changeSprite(t){this.height=t.height,this.width=t.width,this.scaledWidth=this.width*this.scale,this.scaledHeight=this.height*this.scale,this.spriteOffset=t.spriteOffset,this.numFrames=t.numFrames,this.name=t.name,this.framesCount=0,this.draw()}setSprite(t){this.changeSprite(this.sprites[t])}}class I{constructor({ctx:e,image:t,maxHealth:i}){s(this,"_uiHealth",[]);s(this,"_spriteBase");s(this,"_coin");s(this,"offset");this._spriteBase={ctx:e,image:t},this.offset=new m(0,10),this.initHealth(i),this.initGold(),this.draw()}get ctx(){return this._spriteBase.ctx}initGold(){this.offset.x+=20,this.updateGold(0)}updateGold(e=0){let t=this.offset.x,i=this.offset.y;this.ctx.textBaseline="hanging",this.ctx.clearRect(t,i,200,20),this.ctx.fillText(`Gold: ${e}`,t,i)}initHealth(e){let t=[_.spriteData.sprites.ui_heart_full,_.spriteData.sprites.ui_heart_half,_.spriteData.sprites.ui_heart_empty];for(let i=0;i<e/2;i++)this.offset.x+=20,this._uiHealth.push(new $({...this._spriteBase,sprites:t,position:this.offset}))}updateHealth(e){const t=i=>{let a=e-i*2;return a<=0?2:a==1?1:0};this._uiHealth.forEach((i,a)=>i.setSprite(t(a)))}draw(){var e;(e=this._coin)==null||e.draw()}update(){}}function P(r,e){return new Promise(t=>r.addEventListener(e,t,{once:!0}))}var z=(r=>(r.level="level",r.levelEnd="level end",r.gameover="game over",r))(z||{});const f=class f{constructor({ctx:e,ctxBG:t,ctxUI:i,mapData:a,buildingData:n,spriteData:h,width:l,height:d,cell:c}){s(this,"spriteData");s(this,"spriteBase");s(this,"_buildingData");s(this,"player");s(this,"_UI");s(this,"map");s(this,"enemyList",[]);s(this,"buildingList",[]);s(this,"buildList",[]);s(this,"selectedBuildingID",0);s(this,"width");s(this,"height");s(this,"cell");s(this,"state","level");s(this,"level",0);s(this,"enabled",!0);s(this,"buildMode",!1);s(this,"time",Date.now());this.spriteData=h,e.imageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1,f.ctx=e,f.ctxUI=i,f.spriteData=h,this.width=l,this.height=d,this.cell=c,this.map=new O({ctx:t,mapData:a,width:l,height:d});let g=new Image;g.src=h.src,this.spriteBase={ctx:e,image:g},this._buildingData=n,this.buildList.push(...Object.values(this._buildingData.tower)),this.map.setBuildingSelected(this.selectedBuilding),this.player=new L({health:10,gold:10}),P(g,"load").then(()=>{this.animate(),this._UI=new I({ctx:i,image:g,maxHealth:this.player.maxHealth}),this._UI.updateGold(10)}),i.canvas.addEventListener("click",()=>{this.build()}),x.addEventListener(y.dead,()=>{this.onCreatureDeath()}),x.addEventListener(y.done,()=>{this.onCreatureEndPoint()}),this.setState("level")}get selectedBuilding(){return this.buildList[this.selectedBuildingID]}get path(){return this.map.path}get ctx(){return this.spriteBase.ctx}calcScale(e,t={width:1,height:1}){return Math.min(this.cell.width*t.width/e.width,this.cell.height*t.height/e.height)}onCreatureDeath(){this.giveGold(1+1*this.level),this.cleanUpCreature()}onCreatureEndPoint(){this.damagePlayer(),this.cleanUpCreature()}cleanUpCreature(){this.enemyList=this.enemyList.filter(e=>e.state==y.alive),this.enemyList.length==0&&this.setState("level end")}giveGold(e){var t;this.player.gold+=e,(t=this._UI)==null||t.updateGold(this.player.gold)}damagePlayer(e=1){var t;this.player.damage(e),(t=this._UI)==null||t.updateHealth(this.player.health),this.player.isAlive||this.setState("game over")}setBuildMode(e){this.buildMode=e,this.map.enabled=e}endGame(){this.enabled=!1,this.ctx.fillStyle="rgba(255,255,255, 0.5)",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.fillStyle="black",this.ctx.font="30px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText("Game Over",this.width/2,this.height/2)}setState(e){this.state=e,this.onStateChange(this.state)}onStateChange(e){switch(e){case"game over":this.endGame();break;case"level":this.createWave(),this.giveGold(this.level*10);break;case"level end":this.level++,this.setState("level");break}}createWave(){let e=this.spriteData.sprites.doc_run_anim;this.spawnWave(Array(this.level*2+5).fill(e))}build(){if(!this.enabled)return;const{sprite:e,cost:t,...i}=this.selectedBuilding;if(this.player.gold<this.selectedBuilding.cost||!this.map.canBuild()||this.map.buildPos==null)return;let a=f.spriteData.sprites[e];const n=this.calcScale(a,i.size);console.log(n,a,this.cell);let h=new D({...this.spriteBase,position:this.map.buildPos,...i,...a,scale:n,manager:this});this.buildingList.push(h),this.map.updateBuilt(),this.giveGold(-t)}pause(){this.state!="game over"&&(this.enabled=!1,this.ctx.fillStyle="rgba(255,255,255, 0.5)",this.ctx.fillRect(0,0,this.width,this.height))}unpause(){this.state!="game over"&&(this.enabled=!0,this.animate())}spawnWave(e,t=30){let i=this.path[0],a=new m(i.x,i.y),n=new m(0,0);n.x=v(a.x,0,this.width)*t,n.y=v(a.y,0,this.height)*t,e.forEach(h=>{a.add(n),this.spawn(h,{position:a})})}spawn(e,t={}){const i=new x({...this.spriteBase,...e,path:this.path,speed:3,scale:1,delay:7,...t});return this.enemyList.push(i),i}updateAll(){var e;this.buildingList.forEach(t=>t.update()),this.enemyList.forEach(t=>t.update()),(e=this._UI)==null||e.update(),this.map.update()}clear(){this.ctx.clearRect(0,0,this.width,this.height)}animate(){let e=requestAnimationFrame(this.animate.bind(this));if(this.log(),!this.enabled)return cancelAnimationFrame(e);this.clear(),this.updateAll()}log(){let e=Date.now()-this.time;this.time=Date.now();let t=`${this.state} ${this.enabled}
`;t+=`${e}
`,t+=this.player+`
`,t+=this.buildingList.join(`
`)+`
`,t+=this.enemyList.join(`
`)+`
`,document.querySelector("#name").textContent=t}static parseMap(e){let t=[];for(let i=0;i<e.height;i++){let a=i*e.width;t.push(e.placement.slice(a,a+e.width))}return t}};s(f,"ctx"),s(f,"ctxUI"),s(f,"spriteData");let _=f;function v(r,e,t){return r<e?-1:r>t?1:0}const C="img/DungeonTilesetII_v1.6.png",T={big_demon_idle_anim:{name:"big_demon_idle_anim",width:32,height:36,spriteOffset:{x:16,y:428},numFrames:4},big_demon_run_anim:{name:"big_demon_run_anim",width:32,height:36,spriteOffset:{x:144,y:428},numFrames:4},big_zombie_idle_anim:{name:"big_zombie_idle_anim",width:32,height:36,spriteOffset:{x:16,y:332},numFrames:4},big_zombie_run_anim:{name:"big_zombie_run_anim",width:32,height:36,spriteOffset:{x:144,y:332},numFrames:4},bomb:{name:"bomb",width:16,height:16,spriteOffset:{x:288,y:320},numFrames:3},chest_empty_open_anim:{name:"chest_empty_open_anim",width:16,height:16,spriteOffset:{x:304,y:400},numFrames:3},chest_full_open_anim:{name:"chest_full_open_anim",width:16,height:16,spriteOffset:{x:304,y:416},numFrames:3},chest_mimic_open_anim:{name:"chest_mimic_open_anim",width:16,height:16,spriteOffset:{x:304,y:432},numFrames:3},coin_anim:{name:"coin_anim",width:6,height:7,spriteOffset:{x:289,y:385},numFrames:4},flask_big_blue:{name:"flask_big_blue",width:16,height:16,spriteOffset:{x:304,y:336},numFrames:1},flask_big_red:{name:"flask_big_red",width:16,height:16,spriteOffset:{x:288,y:336},numFrames:1},flask_big_green:{name:"flask_big_green",width:16,height:16,spriteOffset:{x:320,y:336},numFrames:1},flask_big_yellow:{name:"flask_big_yellow",width:16,height:16,spriteOffset:{x:336,y:336},numFrames:1},flask_blue:{name:"flask_blue",width:16,height:16,spriteOffset:{x:304,y:352},numFrames:1},flask_red:{name:"flask_red",width:16,height:16,spriteOffset:{x:288,y:352},numFrames:1},flask_green:{name:"flask_green",width:16,height:16,spriteOffset:{x:320,y:352},numFrames:1},flask_yellow:{name:"flask_yellow",width:16,height:16,spriteOffset:{x:336,y:352},numFrames:1},wizzard_f_hit_anim:{name:"wizzard_f_hit_anim",width:16,height:28,spriteOffset:{x:256,y:132},numFrames:1},wizzard_f_idle_anim:{name:"wizzard_f_idle_anim",width:16,height:28,spriteOffset:{x:128,y:132},numFrames:4},wizzard_f_run_anim:{name:"wizzard_f_run_anim",width:16,height:28,spriteOffset:{x:192,y:132},numFrames:4},wizzard_m_hit_anim:{name:"wizzard_m_hit_anim",width:16,height:28,spriteOffset:{x:256,y:164},numFrames:1},wizzard_m_idle_anim:{name:"wizzard_m_idle_anim",width:16,height:28,spriteOffset:{x:128,y:164},numFrames:4},wizzard_m_run_anim:{name:"wizzard_m_run_anim",width:16,height:28,spriteOffset:{x:192,y:164},numFrames:4},dwarf_m_idle_anim:{name:"dwarf_m_idle_anim",width:16,height:28,spriteOffset:{x:128,y:292},numFrames:4},imp_idle_anim:{name:"imp_idle_anim",width:16,height:16,spriteOffset:{x:368,y:64},numFrames:4},imp_run_anim:{name:"imp_run_anim",width:16,height:16,spriteOffset:{x:432,y:64},numFrames:4},lizard_f_hit_anim:{name:"lizard_f_hit_anim",width:16,height:28,spriteOffset:{x:256,y:196},numFrames:1},lizard_f_idle_anim:{name:"lizard_f_idle_anim",width:16,height:28,spriteOffset:{x:128,y:196},numFrames:4},lizard_f_run_anim:{name:"lizard_f_run_anim",width:16,height:28,spriteOffset:{x:192,y:196},numFrames:4},dwarf_m_run_anim:{name:"dwarf_m_run_anim",width:16,height:28,spriteOffset:{x:192,y:292},numFrames:4},dwarf_m_hit_anim:{name:"dwarf_m_hit_anim",width:16,height:28,spriteOffset:{x:256,y:292},numFrames:1},knight_f_hit_anim:{name:"knight_f_hit_anim",width:16,height:28,spriteOffset:{x:256,y:68},numFrames:1},knight_f_idle_anim:{name:"knight_f_idle_anim",width:16,height:28,spriteOffset:{x:128,y:68},numFrames:4},knight_f_run_anim:{name:"knight_f_run_anim",width:16,height:28,spriteOffset:{x:192,y:68},numFrames:4},dwarf_f_idle_anim:{name:"dwarf_f_idle_anim",width:16,height:28,spriteOffset:{x:128,y:260},numFrames:4},dwarf_f_run_anim:{name:"dwarf_f_run_anim",width:16,height:28,spriteOffset:{x:192,y:260},numFrames:4},dwarf_f_hit_anim:{name:"dwarf_f_hit_anim",width:16,height:28,spriteOffset:{x:256,y:260},numFrames:1},weapon_anime_sword:{name:"weapon_anime_sword",width:12,height:30,spriteOffset:{x:322,y:65},numFrames:1},weapon_arrow:{name:"weapon_arrow",width:7,height:21,spriteOffset:{x:324,y:202},numFrames:1},weapon_baton_with_spikes:{name:"weapon_baton_with_spikes",width:10,height:22,spriteOffset:{x:323,y:41},numFrames:1},weapon_big_hammer:{name:"weapon_big_hammer",width:10,height:37,spriteOffset:{x:291,y:26},numFrames:1},weapon_bow:{name:"weapon_bow",width:14,height:26,spriteOffset:{x:289,y:195},numFrames:1},weapon_bow_2:{name:"weapon_bow_2",width:14,height:26,spriteOffset:{x:305,y:195},numFrames:1},weapon_double_axe:{name:"weapon_double_axe",width:16,height:24,spriteOffset:{x:288,y:167},numFrames:1},weapon_cleaver:{name:"weapon_cleaver",width:9,height:19,spriteOffset:{x:310,y:108},numFrames:1},weapon_duel_sword:{name:"weapon_duel_sword",width:9,height:30,spriteOffset:{x:325,y:97},numFrames:1},weapon_golden_sword:{name:"weapon_golden_sword",width:10,height:22,spriteOffset:{x:291,y:137},numFrames:1},weapon_green_magic_staff:{name:"weapon_green_magic_staff",width:8,height:30,spriteOffset:{x:340,y:129},numFrames:1},weapon_hammer:{name:"weapon_hammer",width:10,height:24,spriteOffset:{x:307,y:39},numFrames:1},weapon_katana:{name:"weapon_katana",width:6,height:29,spriteOffset:{x:293,y:66},numFrames:1},weapon_knife:{name:"weapon_knife",width:6,height:13,spriteOffset:{x:293,y:10},numFrames:1},weapon_knight_sword:{name:"weapon_knight_sword",width:10,height:29,spriteOffset:{x:339,y:98},numFrames:1},weapon_lavish_sword:{name:"weapon_lavish_sword",width:10,height:30,spriteOffset:{x:307,y:129},numFrames:1},weapon_mace:{name:"weapon_mace",width:10,height:24,spriteOffset:{x:339,y:39},numFrames:1},weapon_saw_sword:{name:"weapon_saw_sword",width:10,height:25,spriteOffset:{x:307,y:70},numFrames:1},weapon_machete:{name:"weapon_machete",width:5,height:22,spriteOffset:{x:294,y:105},numFrames:1},weapon_red_gem_sword:{name:"weapon_red_gem_sword",width:10,height:21,spriteOffset:{x:339,y:10},numFrames:1},weapon_red_magic_staff:{name:"weapon_red_magic_staff",width:8,height:30,spriteOffset:{x:324,y:129},numFrames:1},weapon_regular_sword:{name:"weapon_regular_sword",width:10,height:21,spriteOffset:{x:323,y:10},numFrames:1},weapon_rusty_sword:{name:"weapon_rusty_sword",width:10,height:21,spriteOffset:{x:307,y:10},numFrames:1},weapon_spear:{name:"weapon_spear",width:6,height:30,spriteOffset:{x:309,y:161},numFrames:1},weapon_waraxe:{name:"weapon_waraxe",width:12,height:23,spriteOffset:{x:324,y:168},numFrames:1},weapon_throwing_axe:{name:"weapon_throwing_axe",width:10,height:14,spriteOffset:{x:340,y:161},numFrames:1},weapon_axe:{name:"weapon_axe",width:9,height:21,spriteOffset:{x:341,y:74},numFrames:1},wogol_idle_anim:{name:"wogol_idle_anim",width:16,height:23,spriteOffset:{x:368,y:249},numFrames:4},wogol_run_anim:{name:"wogol_run_anim",width:16,height:23,spriteOffset:{x:432,y:249},numFrames:4},zombie_anim:{name:"zombie_anim",width:16,height:16,spriteOffset:{x:368,y:136},numFrames:4},tiny_zombie_idle_anim:{name:"tiny_zombie_idle_anim",width:16,height:16,spriteOffset:{x:368,y:16},numFrames:4},tiny_zombie_run_anim:{name:"tiny_zombie_run_anim",width:16,height:16,spriteOffset:{x:432,y:16},numFrames:4},goblin_idle_anim:{name:"goblin_idle_anim",width:16,height:16,spriteOffset:{x:368,y:40},numFrames:4},goblin_run_anim:{name:"goblin_run_anim",width:16,height:16,spriteOffset:{x:432,y:40},numFrames:4},ice_zombie_anim:{name:"ice_zombie_anim",width:16,height:16,spriteOffset:{x:432,y:136},numFrames:4},knight_m_idle_anim:{name:"knight_m_idle_anim",width:16,height:28,spriteOffset:{x:128,y:100},numFrames:4},knight_m_run_anim:{name:"knight_m_run_anim",width:16,height:28,spriteOffset:{x:192,y:100},numFrames:4},knight_m_hit_anim:{name:"knight_m_hit_anim",width:16,height:28,spriteOffset:{x:256,y:100},numFrames:1},crate:{name:"crate",width:16,height:24,spriteOffset:{x:288,y:408},numFrames:1},edge_down:{name:"edge_down",width:16,height:16,spriteOffset:{x:96,y:128},numFrames:1},orc_shaman_idle_anim:{name:"orc_shaman_idle_anim",width:16,height:23,spriteOffset:{x:368,y:201},numFrames:4},orc_shaman_run_anim:{name:"orc_shaman_run_anim",width:16,height:23,spriteOffset:{x:432,y:201},numFrames:4},swampy_anim:{name:"swampy_anim",width:16,height:16,spriteOffset:{x:432,y:112},numFrames:4},muddy_anim:{name:"muddy_anim",width:16,height:16,spriteOffset:{x:368,y:112},numFrames:4},necromancer_anim:{name:"necromancer_anim",width:16,height:23,spriteOffset:{x:368,y:225},numFrames:4},masked_orc_idle_anim:{name:"masked_orc_idle_anim",width:16,height:23,spriteOffset:{x:368,y:153},numFrames:4},masked_orc_run_anim:{name:"masked_orc_run_anim",width:16,height:23,spriteOffset:{x:432,y:153},numFrames:4},orc_warrior_idle_anim:{name:"orc_warrior_idle_anim",width:16,height:23,spriteOffset:{x:368,y:177},numFrames:4},orc_warrior_run_anim:{name:"orc_warrior_run_anim",width:16,height:23,spriteOffset:{x:432,y:177},numFrames:4},skelet_idle_anim:{name:"skelet_idle_anim",width:16,height:16,spriteOffset:{x:368,y:88},numFrames:4},skelet_run_anim:{name:"skelet_run_anim",width:16,height:16,spriteOffset:{x:432,y:88},numFrames:4},skull:{name:"skull",width:16,height:16,spriteOffset:{x:288,y:432},numFrames:1},ogre_idle_anim:{name:"ogre_idle_anim",width:32,height:36,spriteOffset:{x:16,y:380},numFrames:4},ogre_run_anim:{name:"ogre_run_anim",width:32,height:36,spriteOffset:{x:144,y:380},numFrames:4},ui_heart_empty:{name:"ui_heart_empty",width:13,height:12,spriteOffset:{x:321,y:370},numFrames:1},ui_heart_full:{name:"ui_heart_full",width:13,height:12,spriteOffset:{x:289,y:370},numFrames:1},ui_heart_half:{name:"ui_heart_half",width:13,height:12,spriteOffset:{x:305,y:370},numFrames:1},doc_idle_anim:{name:"doc_idle_anim",width:16,height:23,spriteOffset:{x:368,y:345},numFrames:4},doc_run_anim:{name:"doc_run_anim",width:16,height:23,spriteOffset:{x:432,y:345},numFrames:4},pumpkin_dude_idle_anim:{name:"pumpkin_dude_idle_anim",width:16,height:23,spriteOffset:{x:368,y:321},numFrames:4},pumpkin_dude_run_anim:{name:"pumpkin_dude_run_anim",width:16,height:23,spriteOffset:{x:432,y:321},numFrames:4},angel_idle_anim:{name:"angel_idle_anim",width:16,height:16,spriteOffset:{x:368,y:304},numFrames:4},angel_run_anim:{name:"angel_run_anim",width:16,height:16,spriteOffset:{x:432,y:304},numFrames:4},chort_idle_anim:{name:"chort_idle_anim",width:16,height:23,spriteOffset:{x:368,y:273},numFrames:4},chort_run_anim:{name:"chort_run_anim",width:16,height:23,spriteOffset:{x:432,y:273},numFrames:4},column:{name:"column",width:16,height:48,spriteOffset:{x:80,y:80},numFrames:1},column_wall:{name:"column_wall",width:16,height:48,spriteOffset:{x:96,y:80},numFrames:1},wall_fountain_mid_blue_anim:{name:"wall_fountain_mid_blue_anim",width:16,height:16,spriteOffset:{x:64,y:48},numFrames:3},wall_fountain_mid_red_anim:{name:"wall_fountain_mid_red_anim",width:16,height:16,spriteOffset:{x:64,y:16},numFrames:3},wall_fountain_basin_red_anim:{name:"wall_fountain_basin_red_anim",width:16,height:16,spriteOffset:{x:64,y:32},numFrames:3},wall_fountain_basin_blue_anim:{name:"wall_fountain_basin_blue_anim",width:16,height:16,spriteOffset:{x:64,y:64},numFrames:3},wall_goo_base:{name:"wall_goo_base",width:16,height:16,spriteOffset:{x:64,y:96},numFrames:1},wall_goo:{name:"wall_goo",width:16,height:16,spriteOffset:{x:64,y:80},numFrames:1},wall_hole_1:{name:"wall_hole_1",width:16,height:16,spriteOffset:{x:48,y:32},numFrames:1},wall_hole_2:{name:"wall_hole_2",width:16,height:16,spriteOffset:{x:48,y:48},numFrames:1},wall_banner_blue:{name:"wall_banner_blue",width:16,height:16,spriteOffset:{x:32,y:32},numFrames:1},wall_banner_red:{name:"wall_banner_red",width:16,height:16,spriteOffset:{x:16,y:32},numFrames:1},wall_banner_green:{name:"wall_banner_green",width:16,height:16,spriteOffset:{x:16,y:48},numFrames:1},wall_banner_yellow:{name:"wall_banner_yellow",width:16,height:16,spriteOffset:{x:32,y:48},numFrames:1},floor_ladder:{name:"floor_ladder",width:16,height:16,spriteOffset:{x:48,y:96},numFrames:1},floor_spikes_anim:{name:"floor_spikes_anim",width:16,height:16,spriteOffset:{x:16,y:192},numFrames:4},hole:{name:"hole",width:16,height:16,spriteOffset:{x:96,y:144},numFrames:1},floor_stairs:{name:"floor_stairs",width:16,height:16,spriteOffset:{x:80,y:192},numFrames:1},floor_1:{name:"floor_1",width:16,height:16,spriteOffset:{x:16,y:64},numFrames:1},floor_2:{name:"floor_2",width:16,height:16,spriteOffset:{x:32,y:64},numFrames:1},floor_3:{name:"floor_3",width:16,height:16,spriteOffset:{x:48,y:64},numFrames:1},floor_4:{name:"floor_4",width:16,height:16,spriteOffset:{x:16,y:80},numFrames:1},floor_5:{name:"floor_5",width:16,height:16,spriteOffset:{x:32,y:80},numFrames:1},floor_6:{name:"floor_6",width:16,height:16,spriteOffset:{x:48,y:80},numFrames:1},floor_7:{name:"floor_7",width:16,height:16,spriteOffset:{x:16,y:96},numFrames:1},floor_8:{name:"floor_8",width:16,height:16,spriteOffset:{x:32,y:96},numFrames:1},wall_left:{name:"wall_left",width:16,height:16,spriteOffset:{x:16,y:16},numFrames:1},wall_mid:{name:"wall_mid",width:16,height:16,spriteOffset:{x:32,y:16},numFrames:1},wall_right:{name:"wall_right",width:16,height:16,spriteOffset:{x:48,y:16},numFrames:1},wall_top_left:{name:"wall_top_left",width:16,height:16,spriteOffset:{x:16,y:0},numFrames:1},wall_top_mid:{name:"wall_top_mid",width:16,height:16,spriteOffset:{x:32,y:0},numFrames:1},wall_top_right:{name:"wall_top_right",width:16,height:16,spriteOffset:{x:48,y:0},numFrames:1},lizard_m_idle_anim:{name:"lizard_m_idle_anim",width:16,height:28,spriteOffset:{x:128,y:228},numFrames:4},lizard_m_run_anim:{name:"lizard_m_run_anim",width:16,height:28,spriteOffset:{x:192,y:228},numFrames:4},lizard_m_hit_anim:{name:"lizard_m_hit_anim",width:16,height:28,spriteOffset:{x:256,y:228},numFrames:1},elf_f_idle_anim:{name:"elf_f_idle_anim",width:16,height:28,spriteOffset:{x:128,y:4},numFrames:4},elf_f_run_anim:{name:"elf_f_run_anim",width:16,height:28,spriteOffset:{x:192,y:4},numFrames:4},elf_f_hit_anim:{name:"elf_f_hit_anim",width:16,height:28,spriteOffset:{x:256,y:4},numFrames:1},elf_m_idle_anim:{name:"elf_m_idle_anim",width:16,height:28,spriteOffset:{x:128,y:36},numFrames:4},elf_m_run_anim:{name:"elf_m_run_anim",width:16,height:28,spriteOffset:{x:192,y:36},numFrames:4},elf_m_hit_anim:{name:"elf_m_hit_anim",width:16,height:28,spriteOffset:{x:256,y:36},numFrames:1},button_red_up:{name:"button_red_up",width:16,height:16,spriteOffset:{x:16,y:208},numFrames:1},button_red_down:{name:"button_red_down",width:16,height:16,spriteOffset:{x:32,y:208},numFrames:1},button_blue_up:{name:"button_blue_up",width:16,height:16,spriteOffset:{x:48,y:208},numFrames:1},button_blue_down:{name:"button_blue_down",width:16,height:16,spriteOffset:{x:64,y:208},numFrames:1},lever_left:{name:"lever_left",width:16,height:16,spriteOffset:{x:80,y:208},numFrames:1},lever_right:{name:"lever_right",width:16,height:16,spriteOffset:{x:96,y:208},numFrames:1},doors_frame_left:{name:"doors_frame_left",width:16,height:32,spriteOffset:{x:16,y:240},numFrames:1},doors_frame_right:{name:"doors_frame_right",width:16,height:32,spriteOffset:{x:64,y:240},numFrames:1},doors_frame_top:{name:"doors_frame_top",width:32,height:16,spriteOffset:{x:32,y:224},numFrames:1},doors_leaf_closed:{name:"doors_leaf_closed",width:32,height:32,spriteOffset:{x:32,y:240},numFrames:1},doors_leaf_open:{name:"doors_leaf_open",width:32,height:32,spriteOffset:{x:80,y:240},numFrames:1},wall_edge_bottom_left:{name:"wall_edge_bottom_left",width:16,height:16,spriteOffset:{x:32,y:168},numFrames:1},wall_edge_bottom_right:{name:"wall_edge_bottom_right",width:16,height:16,spriteOffset:{x:48,y:168},numFrames:1},wall_edge_mid_left:{name:"wall_edge_mid_left",width:16,height:16,spriteOffset:{x:32,y:152},numFrames:1},wall_edge_top_left:{name:"wall_edge_top_left",width:16,height:16,spriteOffset:{x:31,y:120},numFrames:1},wall_edge_left:{name:"wall_edge_left",width:16,height:16,spriteOffset:{x:32,y:136},numFrames:1},wall_edge_top_right:{name:"wall_edge_top_right",width:16,height:16,spriteOffset:{x:48,y:120},numFrames:1},wall_edge_right:{name:"wall_edge_right",width:16,height:16,spriteOffset:{x:48,y:136},numFrames:1},wall_edge_mid_right:{name:"wall_edge_mid_right",width:16,height:16,spriteOffset:{x:48,y:152},numFrames:1},wall_edge_tshape_bottom_right:{name:"wall_edge_tshape_bottom_right",width:16,height:16,spriteOffset:{x:64,y:152},numFrames:1},wall_edge_tshape_bottom_left:{name:"wall_edge_tshape_bottom_left",width:16,height:16,spriteOffset:{x:80,y:152},numFrames:1},wall_edge_tshape_right:{name:"wall_edge_tshape_right",width:16,height:16,spriteOffset:{x:64,y:168},numFrames:1},wall_edge_tshape_left:{name:"wall_edge_tshape_left",width:16,height:16,spriteOffset:{x:80,y:168},numFrames:1},wall_outer_front_right:{name:"wall_outer_front_right",width:16,height:16,spriteOffset:{x:16,y:168},numFrames:1},wall_outer_front_left:{name:"wall_outer_front_left",width:16,height:16,spriteOffset:{x:0,y:168},numFrames:1},wall_outer_mid_left:{name:"wall_outer_mid_left",width:16,height:16,spriteOffset:{x:0,y:152},numFrames:1},wall_outer_top_left:{name:"wall_outer_top_left",width:16,height:16,spriteOffset:{x:0,y:136},numFrames:1},wall_outer_top_right:{name:"wall_outer_top_right",width:16,height:16,spriteOffset:{x:16,y:136},numFrames:1},wall_outer_mid_right:{name:"wall_outer_mid_right",width:16,height:16,spriteOffset:{x:16,y:152},numFrames:1},wall_fountain_top_1:{name:"wall_fountain_top_1",width:16,height:16,spriteOffset:{x:64,y:0},numFrames:1},wall_fountain_top_2:{name:"wall_fountain_top_2",width:16,height:16,spriteOffset:{x:80,y:0},numFrames:1},wall_fountain_top_3:{name:"wall_fountain_top_3",width:16,height:16,spriteOffset:{x:96,y:0},numFrames:1},slug_anim:{name:"slug_anim",width:16,height:23,spriteOffset:{x:368,y:369},numFrames:4},tiny_slug_anim:{name:"tiny_slug_anim",width:16,height:16,spriteOffset:{x:432,y:376},numFrames:4}},k={src:C,sprites:T},H="Desert Loop",W="img/Map.png",M=[{x:264,y:567},{x:263,y:344},{x:73,y:343},{x:71,y:440},{x:168,y:440},{x:166,y:72},{x:70,y:71},{x:71,y:169},{x:439,y:168},{x:440,y:70},{x:345,y:71},{x:346,y:264},{x:537,y:262}],G={width:16,height:16},j=32,R=32,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,1397,1397,1397,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1397,1397,1397,0,0,0,0,1397,1397,1397,1397,1397,1397,1397,1397,1397,1397],U={name:H,src:W,path:M,tile:G,width:j,height:R,placement:A},q={basic:{name:"Basic Tower",size:{width:3,height:3},cost:10,projectile:"basic",fireRate:30,damage:1,speed:5,radius:150,sprite:"big_demon_idle_anim",delay:10}},N={basic:{fireRate:50,damage:1,speed:5,radius:150}},K={tower:q,projectile:N},w={width:512,height:512,sprites:[]},X=new Image;X.src="img/DungeonTilesetII_v1.6.png";document.addEventListener("DOMContentLoaded",Y);function b(r,{width:e=1024,height:t=500}){const i=document.querySelector(r);if(!i)throw new Error(`Invalid Selector ${r}`);return i.width=e,i.height=t,i.getContext("2d")}function Y(){const{sprites:r}=k;let e=b("#ui",w);e.fillText("hello",20,20),console.log(e);let t=new _({ctx:b("#main",w),ctxBG:b("#background",w),ctxUI:b("#ui",w),mapData:U,spriteData:k,buildingData:K,width:w.width,height:w.height,cell:{width:16,height:16}});document.addEventListener("keydown",i=>{switch(i.key){case"t":return t.spawn(r.doc_run_anim);case"d":return t.damagePlayer(1);case" ":return t.enabled?t.pause():t.unpause();case"g":return t.setState(z.gameover)}})}
